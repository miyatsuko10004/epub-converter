# epub_converter

`epub_converter`は、**MOBIファイル**および**画像を含むフォルダ（またはZIP/RARアーカイブ）**をバッチ処理で**EPUBファイル**に変換するためのPythonスクリプトです。電子書籍フォーマット変換のデファクトスタンダードである**Calibre**の`ebook-convert`コマンドを利用しています。

## 特徴

* **バッチ処理:** `input`ディレクトリに置かれた複数のMOBIファイル、画像フォルダ、またはZIP/RARファイルを一度に処理します。
* **アーカイブ対応:** 画像をZIPまたはRAR形式で圧縮して投入できます。スクリプトが自動的に一時フォルダに解凍して変換します。
* **メタデータ設定:** 変換時に、すべてのファイルに共通の**シリーズ名**と**巻数**をインタラクティブに設定できます。
* **ファイル名タイトル:** EPUBのタイトルメタデータには、元のファイル名またはフォルダ名が自動的に設定されます。
* **クリーンアップ:** 変換後に一時的に解凍したファイルは自動的に削除されます。

## 事前準備

### 1. Calibreのインストール (必須)

このスクリプトは、**Calibre**に同梱されている`ebook-convert`コマンドに依存しています。

* Calibreをインストールし、`ebook-convert`コマンドがシステムパスを通して実行できることを確認してください。

### 2. UnRARユーティリティのインストール (RAR対応の場合)

* `.rar`ファイルを取り扱う場合は、OSに**`unrar`**コマンドラインユーティリティをインストールし、システムパスに追加する必要があります。

### 3. Python環境のセットアップ

`uv`を使用して仮想環境を構築し、必要なPythonライブラリをインストールします。

```bash
# プロジェクトディレクトリに移動
cd epub_converter

# 仮想環境をアクティベート
source .venv/bin/activate  # macOS/Linuxの場合
# .\venv\Scripts\activate  # Windowsの場合 (プロジェクトルートに.venvを作成した場合)

# 必要な外部ライブラリ (rarfile) をインストール
uv pip install rarfile
